<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<title>Panel Médico</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

	<style>
		body {
			background-color: #f3f8fd;
		}

		.main-card {
			background: #fff;
			border-radius: 12px;
			padding: 2rem;
			box-shadow: 0 4px 10px rgba(0, 0, 0, .1);
			border-top: 6px solid #005a9c;
		}

		.bienvenida h1 {
			color: #005a9c;
			font-weight: bold;
		}

		.list-group a:hover {
			background-color: #cfe4f7;
			color: #003d73;
		}

		.menu-card {
			max-width: 1100px;
			margin-inline: auto;
		}

		.content-card {
			background: #fff;
			border-radius: 12px;
			padding: 1.25rem;
			box-shadow: 0 4px 10px rgba(0, 0, 0, .06);
			border: 1px solid #e6eef9;
		}

		.content-header {
			color: #0a4f86;
			font-weight: 700;
		}

		.muted {
			color: #6c7a89;
		}

		.empty {
			border: 2px dashed #d7e7fb;
			border-radius: 12px;
			padding: 1rem;
			text-align: center;
			color: #5d6d7e;
		}

		.slot {
			display: inline-block;
			margin: .25rem;
			padding: .35rem .6rem;
			border: 1px solid #cbe0f9;
			border-radius: 999px;
			cursor: pointer;
			user-select: none;
		}

		.slot.active {
			background: #0d6efd;
			color: #fff;
			border-color: #0d6efd;
		}
	</style>
</head>

<body>
	<div class="container my-5 menu-card">
		<div class="main-card">
			<!-- Bienvenida -->
			<div class="text-center bienvenida mb-4">
				<h1>🩺 ¡Hola Dr./Dra. <span th:text="${medico.nombre}">Estrada</span>!</h1>
				<p>Bienvenido a tu panel profesional. Desde aquí puedes gestionar tus citas y pacientes.</p>
			</div>

			<!-- Menú -->
			<class="list-group mb-4">
				<a th:href="@{/medicos/pacientes}" class="list-group-item list-group-item-action d-flex align-items-center">
					<span class="fs-3 me-3">➕</span>
					<div>
						<h5 class="mb-1">Mis Citas</h5>
						<small>Consulta todas las citas que tienes programadas.</small>
					</div>
				</a>

				<!--<a href="#pacientes" data-server="/medico/pacientes"
					class="list-group-item list-group-item-action d-flex align-items-center">
					<span class="fs-3 me-3">🙍‍♀️</span>
					<div>
						<h5 class="mb-1">Mis Pacientes</h5>
						<small>Accede al historial y datos de tus pacientes.</small>
					</div>
				</a>

				<a href="#agenda" data-server="/medico/agenda"
					class="list-group-item list-group-item-action d-flex align-items-center">
					<span class="fs-3 me-3">🗓️</span>
					<div>
						<h5 class="mb-1">Gestionar Agenda</h5>
						<small>Configura tu disponibilidad para nuevas citas.</small>
					</div>
				</a>

				<a href="#reportes" data-server="/medico/reportes"
					class="list-group-item list-group-item-action d-flex align-items-center">
					<span class="fs-3 me-3">📊</span>
					<div>
						<h5 class="mb-1">Reportes</h5>
						<small>Genera informes sobre tu actividad médica.</small>
					</div>
				</a>-->
		</div>
	</div>

	<!-- Logout -->
	<div class="text-center mt-5">
		<form th:action="@{/medico/logout}" method="post">
			<button class="btn btn-outline-primary btn-lg">🚪 Cerrar sesión</button>
		</form>
	</div>
	</div>

	<footer class="text-center text-muted mb-4">© 2025 - Sistema de Gestión de Citas Sanitarias · Tu profesión, siempre
		conectada</footer>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		// --- Router mínimo basado en hash ---
		const routes = {
			'#citas': 'view-citas',
			'#pacientes': 'view-pacientes',
			'#agenda': 'view-agenda',
			'#reportes': 'view-reportes'
		};

		function showView(hash) {
			const target = routes[hash] || 'view-citas';
			document.querySelectorAll('.spa-view').forEach(v => v.classList.add('d-none'));
			document.getElementById(target).classList.remove('d-none');
			document.querySelectorAll('#spaMenu a').forEach(a => a.classList.remove('active'));
			const activeLink = document.querySelector(`#spaMenu a[href='${hash}']`);
			if (activeLink) activeLink.classList.add('active');
		}

		document.getElementById('spaMenu').addEventListener('click', (e) => {
			const link = e.target.closest('a');
			if (!link) return;
			const hash = link.getAttribute('href');
			if (hash && hash.startsWith('#')) {
				e.preventDefault();
				history.pushState(null, '', hash);
				showView(hash);
			}
		});

		window.addEventListener('hashchange', () => showView(location.hash));
		window.addEventListener('DOMContentLoaded', () => {
			showView(location.hash || '#citas');

			// Generar cuadrícula de slots demo 08:00–12:00 cada 30 minutos
			const tbody = document.getElementById('slotsBody');
			const horas = ['08:00', '08:30', '09:00', '09:30', '10:00', '10:30', '11:00', '11:30', '12:00'];
			const dias = ['Lun', 'Mar', 'Mié', 'Jue', 'Vie'];
			horas.forEach(h => {
				const tr = document.createElement('tr');
				const th = document.createElement('th');
				th.textContent = h; tr.appendChild(th);
				for (let i = 0; i < 5; i++) {
					const td = document.createElement('td');
					const span = document.createElement('span');
					span.className = 'slot';
					span.textContent = 'Disponible';
					span.addEventListener('click', () => span.classList.toggle('active'));
					td.appendChild(span);
					tr.appendChild(td);
				}
				tbody.appendChild(tr);
			});
		});
	</script>
</body>

</html>