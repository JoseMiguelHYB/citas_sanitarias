<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
	<meta charset="UTF-8">
	<title>Mis Citas</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
	<style>
		body {
			background-color: #eaf4fb;
			/* Azul muy claro */
		}

		h2 {
			font-weight: bold;
		}

		.estado-programada {
			background-color: #0d6efd;
			color: white;
		}

		.estado-completada {
			background-color: #6c757d;
			color: white;
		}

		.estado-reprogramar {
			background-color: #ffc107;
			color: black;
		}

		.btn-accion {
			border-radius: 10px;
			font-size: 0.9em;
		}
	</style>
</head>

<body>
	<div class="container mt-5">
		<!-- Tarjeta principal -->
		<div class="card shadow p-4 rounded-3">
			<h2 class="text-primary mb-4">üë®‚Äç‚öïÔ∏è Mis Citas</h2>
			<p class="text-muted">Consulta y gestiona todas tus citas programadas.</p>

			<!-- Barra de filtros -->
			<div class="d-flex mb-3 gap-2">
				<input type="date" class="form-control" style="max-width: 200px;">
				<input type="text" class="form-control" placeholder="Buscar paciente o nota...">
			</div>

			<!-- Tabla de citas -->
			<table class="table table-striped align-middle">
				<thead class="table-light">
					<tr>
						<th>Hora</th>
						<th>Paciente</th>
						<th>Motivo</th>
						<th>Estado</th>
						<th>Acciones</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="cita : ${citas}">
						<td th:text="${cita.hora}">08:30</td>
						<td th:text="${cita.paciente.nombre} + ' ' + ${cita.paciente.apellido}">Carlos Ficticio</td>
						<td th:text="${cita.motivo}">Control rutinario</td>

						<td th:text="${cita.estado}">ESTADO</td>

						<td class="d-flex gap-2">
							<a th:if="${cita.estado == 'PENDIENTE'}"
								th:href="@{/medicos/citas/{id}/atender(id=${cita.id})}"
								class="btn btn-sm btn-success btn-accion">Aceptar</a>

							<a th:if="${cita.estado == 'PENDIENTE'}"
								th:href="@{/medicos/citas/{id}/cancelar(id=${cita.id})}"
								class="btn btn-sm btn-danger btn-accion">Cancelar</a>

							<a th:if="${cita.estado == 'PENDIENTE'}"
								th:href="@{/medicos/citas/{id}/reprogramar(id=${cita.id})}"
								class="btn btn-sm btn-warning btn-accion">Reprogramar</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>

</html>